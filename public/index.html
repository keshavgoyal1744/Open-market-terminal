<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Open Market Terminal</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="page-shell">
      <header class="topbar">
        <div class="topbar-brand">
          <p class="eyebrow">Open Market Terminal</p>
          <h1>Global market operations console</h1>
        </div>
        <nav class="topbar-nav">
          <button type="button" class="topbar-nav-btn" data-page="overview">Markets</button>
          <button type="button" class="topbar-nav-btn" data-page="boards">Boards</button>
          <button type="button" class="topbar-nav-btn" data-page="sectors">Sectors</button>
          <button type="button" class="topbar-nav-btn" data-page="calendar">Calendar</button>
          <button type="button" class="topbar-nav-btn" data-page="map">Map</button>
          <button type="button" class="topbar-nav-btn" data-page="quote">Quote</button>
          <button type="button" class="topbar-nav-btn" data-page="news">News</button>
          <button type="button" class="topbar-nav-btn" data-page="research">Research</button>
          <button type="button" class="topbar-nav-btn" data-page="ops">Ops</button>
        </nav>
        <div class="topbar-strip">
          <button id="resetLayoutButton" type="button" class="topbar-chip topbar-chip-action">
            <span>Layout</span>
            <strong>Reset</strong>
          </button>
          <button id="commandPaletteButton" type="button" class="topbar-chip topbar-chip-action">
            <span>Command</span>
            <strong>Ctrl/⌘ K</strong>
          </button>
          <div class="topbar-chip">
            <span>Mode</span>
            <strong id="hudMode">Guest</strong>
          </div>
          <div class="topbar-chip">
            <span>Feed</span>
            <strong id="hudFeedStatus">Syncing</strong>
          </div>
          <div class="topbar-chip">
            <span>UTC</span>
            <strong id="hudClock">--:--:--</strong>
          </div>
        </div>
      </header>

      <section class="terminal-command-deck">
        <form id="terminalCommandForm" class="terminal-command-form">
          <div class="terminal-command-kicker">Command Bar</div>
          <input
            id="terminalCommandInput"
            type="text"
            autocomplete="off"
            placeholder="AAPL US <Equity> DES · QUOTE NVDA · MAP AAPL MSFT · PAGE NEWS · SECTOR Technology"
          />
          <button type="submit">Run</button>
        </form>
        <div class="terminal-command-meta">
          <div id="terminalCommandHint" class="muted">Symbol-first command routing with DES / FA / OWN / RV / SPLC / BMAP support.</div>
          <div id="terminalHotkeys" class="terminal-hotkeys"></div>
        </div>
      </section>

      <section class="hero">
        <div class="hero-copy">
          <p id="pageSectionLabel" class="section-label">Overview Desk</p>
          <h2 id="pageTitle">Live market command workspace built on public feeds.</h2>
          <p id="pageDescription">
            Heatmap, market pulse, ranked events, watchlists, macro dates, and live public headlines in one terminal page.
          </p>
          <div id="pageTags" class="hero-tags">
            <span>Heatmap</span>
            <span>Market Pulse</span>
            <span>Events</span>
            <span>Desk News</span>
          </div>
          <p class="warning">
            Licensed tick-by-tick equities, premium research, and proprietary institutional graph depth are still
            outside the scope of a free public-data build.
          </p>
        </div>
        <div class="hero-visual">
          <div class="desk-terminal">
            <div class="desk-line">
              <span class="desk-label">Desk</span>
              <strong id="deskPrimarySymbol">AAPL</strong>
              <span class="desk-separator">/</span>
              <span id="deskPrimaryStatus">Awaiting route</span>
            </div>
            <div class="desk-line muted">
              <span class="desk-label">Focus</span>
              <span id="hudIntelSymbol">AAPL relationship focus</span>
            </div>
            <div class="desk-line muted">
              <span class="desk-label">Palette</span>
              <span>Commands, symbols, and panel jumps</span>
            </div>
            <div class="desk-line muted">
              <span class="desk-label">Page</span>
              <span id="hudPageLabel">Overview</span>
            </div>
            <div id="symbolRibbon" class="symbol-ribbon"></div>
          </div>
          <div class="signal-log">
            <div class="signal-row"><span>ROUTING</span><strong>Ctrl/⌘ + K opens the terminal palette</strong></div>
            <div class="signal-row"><span>SYMBOLS</span><strong>[ and ] cycle through watchlist names</strong></div>
            <div class="signal-row"><span>PAGES</span><strong>Markets, Boards, Sectors, Calendar, Map, Quote, News, Research, and Ops split the desk into cleaner views</strong></div>
          </div>
        </div>
        <aside class="auth-card control-card">
          <div id="authSummary" class="auth-summary"></div>
          <div class="auth-forms">
            <form id="registerForm" class="auth-form">
              <h2>Create Account</h2>
              <input id="registerName" type="text" placeholder="Name" />
              <input id="registerEmail" type="email" placeholder="Email" />
              <input id="registerPassword" type="password" placeholder="Password (8+ chars)" />
              <button type="submit">Register</button>
            </form>
            <form id="loginForm" class="auth-form">
              <h2>Sign In</h2>
              <input id="loginEmail" type="email" placeholder="Email" />
              <input id="loginPassword" type="password" placeholder="Password" />
              <button type="submit">Log In</button>
            </form>
          </div>
          <div class="auth-actions">
            <button id="logoutButton" type="button" class="secondary" hidden>Log Out</button>
            <button id="syncProfileButton" type="button">Save Profile</button>
          </div>
        </aside>
      </section>

      <section class="telemetry-strip">
        <article class="telemetry-card">
          <span>Tracked Symbols</span>
          <strong id="hudTrackedCount">0</strong>
          <small>watchlist universe</small>
        </article>
        <article class="telemetry-card">
          <span>Pulse Cards</span>
          <strong id="hudPulseCount">0</strong>
          <small>cross-asset board</small>
        </article>
        <article class="telemetry-card">
          <span>Automations</span>
          <strong id="hudAutomationCount">0</strong>
          <small>alerts + digests</small>
        </article>
        <article class="telemetry-card">
          <span>Workspaces</span>
          <strong id="hudWorkspaceCount">0</strong>
          <small>saved desk states</small>
        </article>
        <article class="telemetry-card">
          <span>Last Sync</span>
          <strong id="hudLastSync">Pending</strong>
          <small>market telemetry</small>
        </article>
      </section>

      <main id="dashboardGrid" class="dashboard">
        <section id="section-market-pulse" class="panel panel-wide panel-market-pulse">
          <div class="panel-header">
            <div>
              <p class="section-label">Market Pulse</p>
              <h2>Cross-asset monitor</h2>
            </div>
            <button id="refreshPulseButton" type="button" class="secondary">Refresh</button>
          </div>
          <div id="marketPulseBoard" class="pulse-board"></div>
          <div class="two-column">
            <div class="subpanel">
              <h3>Leaders</h3>
              <div id="leadersList" class="list-stack"></div>
            </div>
            <div class="subpanel">
              <h3>Laggards</h3>
              <div id="laggardsList" class="list-stack"></div>
            </div>
          </div>
        </section>

        <section id="section-heatmap" class="panel panel-wide panel-heatmap">
          <div class="panel-header">
            <div>
              <p class="section-label">S&amp;P 500 Heatmap</p>
              <h2>Live breadth, sector weight, and hover intelligence</h2>
            </div>
            <button id="refreshHeatmapButton" type="button" class="secondary">Refresh</button>
          </div>
          <div id="heatmapSummary" class="watchlist-summary-grid"></div>
          <div id="heatmapWarnings" class="panel-status-strip"></div>
          <div class="heatmap-shell">
            <div class="subpanel heatmap-canvas-panel">
              <div class="subpanel-header">
                <h3>Index Mosaic</h3>
                <div id="heatmapSource" class="muted"></div>
              </div>
              <div id="sp500Heatmap" class="sp500-heatmap"></div>
              <div class="heatmap-footer">
                <div class="heatmap-scale">
                  <span>-3%</span>
                  <div class="heatmap-scale-dots" aria-hidden="true">
                    <span class="negative"></span>
                    <span class="negative"></span>
                    <span class="negative"></span>
                    <span class="neutral"></span>
                    <span class="positive"></span>
                    <span class="positive"></span>
                    <span class="positive"></span>
                  </div>
                  <span>+3%</span>
                </div>
                <div id="heatmapAsOf" class="muted">Awaiting heatmap sync</div>
              </div>
            </div>
            <div class="subpanel heatmap-detail-panel">
              <div class="subpanel-header">
                <h3 id="heatmapDetailTitle">Hover a tile</h3>
                <div id="heatmapDetailMeta" class="muted">Live context rail</div>
              </div>
              <div class="heatmap-context-grid">
                <div id="heatmapDetailSummary" class="intel-empty list-item">
                  <div class="meta">Hover or click a tile to load multi-source scenario context.</div>
                </div>
                <div id="heatmapCatalysts" class="list-stack"></div>
                <div class="table-wrap terminal-table-wrap heatmap-reference-wrap">
                  <table class="terminal-table">
                    <thead>
                      <tr>
                        <th>Reference</th>
                        <th>Source</th>
                        <th>Time</th>
                      </tr>
                    </thead>
                    <tbody id="heatmapReferencesBody"></tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="section-market-boards" class="panel panel-wide panel-market-boards">
          <div class="panel-header">
            <div>
              <p class="section-label">Market Monitor Boards</p>
              <h2>Leaders, actives, unusual volume, sectors, ETF tape, and macro regime</h2>
            </div>
            <button id="refreshMarketBoardsButton" type="button" class="secondary">Refresh</button>
          </div>
          <div id="marketBoardsSummary" class="watchlist-summary-grid"></div>
          <div id="marketBoardsWarnings" class="panel-status-strip"></div>
          <div class="market-boards-grid">
            <article class="subpanel">
              <div class="subpanel-header"><h3>Leaders</h3><div class="muted">top advancers</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Symbol</th><th>Last</th><th>% Change</th><th>Volume</th></tr></thead>
                  <tbody id="leadersBoardBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Laggards</h3><div class="muted">top decliners</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Symbol</th><th>Last</th><th>% Change</th><th>Volume</th></tr></thead>
                  <tbody id="laggardsBoardBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Most Active</h3><div class="muted">share tape</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Symbol</th><th>Volume</th><th>Dollar Vol</th><th>% Change</th></tr></thead>
                  <tbody id="activeBoardBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Unusual Volume</h3><div class="muted">watchlist flow</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Symbol</th><th>Rel Vol</th><th>Shares</th><th>Street</th></tr></thead>
                  <tbody id="unusualBoardBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Gap Up</h3><div class="muted">session proxy</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Symbol</th><th>Proxy</th><th>Last</th><th>Sector</th></tr></thead>
                  <tbody id="gapUpBoardBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Gap Down</h3><div class="muted">session proxy</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Symbol</th><th>Proxy</th><th>Last</th><th>Sector</th></tr></thead>
                  <tbody id="gapDownBoardBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Sector Performance</h3><div class="muted">index-weighted board</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Sector</th><th>% Move</th><th>Weight</th><th>Count</th></tr></thead>
                  <tbody id="sectorPerformanceBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>ETF Tape</h3><div class="muted">flow proxy</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Symbol</th><th>Price</th><th>Tape Flow</th><th>% Change</th></tr></thead>
                  <tbody id="etfFlowsBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Macro Dashboard</h3><div class="muted">rates and regime</div></div>
              <div id="boardsMacroCards" class="watchlist-summary-grid"></div>
              <div id="boardsYieldCurve" class="chart-card small"></div>
            </article>
          </div>
        </section>

        <section id="section-sector-board" class="panel panel-wide panel-sector-board">
          <div class="panel-header">
            <div>
              <p class="section-label">Sector Drilldown</p>
              <h2>Sector board, relative movers, and linked news</h2>
            </div>
            <div class="workbench-header-actions">
              <form id="sectorBoardForm" class="inline-form compact-inline-form">
                <select id="sectorBoardSelect"></select>
                <button type="submit">Load Sector</button>
              </form>
              <button id="refreshSectorBoardButton" type="button" class="secondary">Refresh</button>
            </div>
          </div>
          <div id="sectorBoardSummary" class="watchlist-summary-grid"></div>
          <div id="sectorBoardWarnings" class="panel-status-strip"></div>
          <div class="sector-board-shell">
            <article class="subpanel">
              <div class="subpanel-header">
                <h3 id="sectorBoardTitle">Sector Board</h3>
                <div id="sectorBoardMeta" class="muted">Loading sector composition</div>
              </div>
              <div id="sectorBoardTiles" class="sector-board-tiles"></div>
            </article>
            <article class="subpanel">
              <div class="two-column">
                <div>
                  <h3>Leaders</h3>
                  <div id="sectorLeadersList" class="list-stack"></div>
                </div>
                <div>
                  <h3>Laggards</h3>
                  <div id="sectorLaggardsList" class="list-stack"></div>
                </div>
              </div>
            </article>
            <article class="subpanel sector-news-panel">
              <div class="subpanel-header">
                <h3>Sector Headlines</h3>
                <div id="sectorNewsMeta" class="muted">Public source blend</div>
              </div>
              <div id="sectorNewsList" class="sector-news-list"></div>
            </article>
            <article class="subpanel">
              <h3>Constituent Board</h3>
              <div class="table-wrap terminal-table-wrap">
                <table class="terminal-table">
                  <thead>
                    <tr>
                      <th>Symbol</th>
                      <th>Last</th>
                      <th>Move</th>
                      <th>Weight</th>
                      <th>Volume</th>
                      <th>Market Cap</th>
                    </tr>
                  </thead>
                  <tbody id="sectorBoardBody"></tbody>
                </table>
              </div>
            </article>
          </div>
        </section>

        <section id="section-market-events" class="panel panel-wide panel-market-events">
          <div class="panel-header">
            <div>
              <p class="section-label">Market-Moving Events</p>
              <h2>Ranked impact timeline across policy, earnings, filings, and live headlines</h2>
            </div>
            <button id="refreshEventsButton" type="button" class="secondary">Refresh</button>
          </div>
          <div id="marketEventsSummary" class="watchlist-summary-grid"></div>
          <div class="panel-toolbar compact-toolbar">
            <div id="marketEventsPageMeta" class="muted">Top-ranked market movers</div>
            <div id="marketEventsPager" class="pagination-strip"></div>
          </div>
          <div id="marketEventsList" class="calendar-list"></div>
        </section>

        <section id="section-watchlist" class="panel panel-wide panel-watchlist">
          <div class="panel-header">
            <div>
              <p class="section-label">Watchlist</p>
              <h2>Quotes, events, and profile sync</h2>
            </div>
            <form id="watchlistForm" class="inline-form">
              <input id="watchlistInput" type="text" />
              <button type="submit">Refresh</button>
            </form>
          </div>
          <div class="action-row">
            <button id="saveWatchlistButton" type="button" class="secondary">Save To Profile</button>
            <div id="watchlistStatus" class="muted"></div>
          </div>
          <div id="watchlistSummary" class="watchlist-summary-grid"></div>
          <div class="table-wrap terminal-table-wrap">
            <table class="terminal-table watchlist-table">
              <thead>
                <tr>
                  <th>Symbol</th>
                  <th>Last</th>
                  <th>Change</th>
                  <th>Bid / Ask</th>
                  <th>Volume</th>
                  <th>Market Cap</th>
                </tr>
              </thead>
              <tbody id="watchlistBody"></tbody>
            </table>
          </div>
        </section>

        <section id="section-flow" class="panel panel-wide panel-flow">
          <div class="panel-header">
            <div>
              <p class="section-label">Flow Monitor</p>
              <h2>Share volume, options activity, put/call ratios, and short-interest context</h2>
            </div>
            <button id="refreshFlowButton" type="button" class="secondary">Refresh</button>
          </div>
          <div id="flowSummary" class="watchlist-summary-grid"></div>
          <div id="flowWarnings" class="panel-status-strip"></div>
          <div class="table-wrap terminal-table-wrap">
            <table class="terminal-table flow-table">
              <thead>
                <tr>
                  <th>Symbol</th>
                  <th>Shares / Avg</th>
                  <th>Rel Vol</th>
                  <th>Calls / Puts</th>
                  <th>P/C</th>
                  <th>Open Int</th>
                  <th>Short</th>
                  <th>Street</th>
                </tr>
              </thead>
              <tbody id="flowBody"></tbody>
            </table>
          </div>
        </section>

        <section id="section-research-rail" class="panel panel-research-rail">
          <div class="panel-header">
            <div>
              <p class="section-label">Research Rail</p>
              <h2>Symbol stack</h2>
            </div>
          </div>
          <div id="researchRailSummary" class="panel-status-strip compact-status"></div>
          <div id="researchRailList" class="research-rail-list"></div>
        </section>

        <section id="section-workbench" class="panel panel-wide panel-workbench">
          <div class="panel-header">
            <div>
              <p class="section-label">Security Workbench</p>
              <h2>Price history, filings, fundamentals, and options</h2>
            </div>
            <div class="workbench-header-actions">
              <form id="detailForm" class="inline-form">
                <input id="detailSymbol" type="text" />
                <select id="historyRange">
                  <option value="1d">1 day</option>
                  <option value="1w">1 week</option>
                  <option value="1mo">1 month</option>
                  <option value="3mo">3 months</option>
                  <option value="6mo">6 months</option>
                  <option value="1y">1 year</option>
                </select>
                <button type="submit">Load</button>
              </form>
              <button id="toggleEarningsDrawerButton" type="button" class="secondary">Earnings Intel</button>
            </div>
          </div>
          <div id="workbenchSummary" class="watchlist-summary-grid"></div>
          <div id="detailWarnings" class="panel-status-strip"></div>
          <div class="detail-grid">
            <article class="subpanel">
              <div id="workbenchIdentity" class="workbench-identity"></div>
              <div id="detailMetrics" class="metric-strip"></div>
              <div id="priceChart" class="chart-card"></div>
            </article>
            <article class="subpanel">
              <div id="companyOverview" class="overview"></div>
              <div id="companyFacts" class="facts-grid"></div>
            </article>
            <article class="subpanel">
              <h3>Recent SEC Filings</h3>
              <div id="filingsList" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <h3>Options Chain</h3>
              <div id="optionsStatus" class="panel-status-strip compact-status"></div>
              <div id="optionsSummary" class="watchlist-summary-grid"></div>
              <div class="options-grid">
                <div>
                  <h4>Calls</h4>
                  <div class="table-wrap compact terminal-table-wrap">
                    <table class="terminal-table options-table">
                      <thead>
                        <tr>
                          <th>Strike</th>
                          <th>Last</th>
                          <th>Bid / Ask</th>
                          <th>IV</th>
                          <th>Vol / OI</th>
                        </tr>
                      </thead>
                      <tbody id="callsBody"></tbody>
                    </table>
                  </div>
                </div>
                <div>
                  <h4>Puts</h4>
                  <div class="table-wrap compact terminal-table-wrap">
                    <table class="terminal-table options-table">
                      <thead>
                        <tr>
                          <th>Strike</th>
                          <th>Last</th>
                          <th>Bid / Ask</th>
                          <th>IV</th>
                          <th>Vol / OI</th>
                        </tr>
                      </thead>
                      <tbody id="putsBody"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </article>
          </div>
        </section>

        <section id="section-intelligence" class="panel panel-wide intelligence-panel">
          <div class="panel-header">
            <div>
              <p class="section-label">Relationship Console</p>
              <h2>Supply chain, ownership, corporate graph, geography, and impact chains</h2>
            </div>
            <div id="intelCommandBar" class="command-bar"></div>
          </div>
          <div class="intel-top-grid">
            <article class="subpanel">
              <div id="intelHeadline" class="intel-headline"></div>
              <div id="intelCoverageNotes" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div id="intelOwnershipFacts" class="metric-strip"></div>
              <div id="intelSignalGrid" class="intel-signal-grid"></div>
            </article>
          </div>
          <div class="intel-graph-grid">
            <article class="subpanel">
              <h3>Graph View</h3>
              <div id="intelGraph" class="chart-card intel-graph-card"></div>
            </article>
          </div>
          <div class="intel-console-grid">
            <article class="subpanel intel-detail-panel">
              <div class="subpanel-header">
                <h3 id="intelDetailTitle">Supply Chain</h3>
                <div id="intelDetailMeta" class="muted">Primary relationship view</div>
              </div>
              <div id="intelDetailBody" class="intel-detail-body"></div>
            </article>
            <article class="subpanel intel-detail-panel">
              <div class="subpanel-header">
                <h3 id="intelSecondaryTitle">Customer Concentration</h3>
                <div id="intelSecondaryMeta" class="muted">Context rail</div>
              </div>
              <div id="intelSecondaryBody" class="intel-detail-body"></div>
            </article>
          </div>
        </section>

        <section id="section-company-map" class="panel panel-wide panel-company-map">
          <div class="panel-header">
            <div>
              <p class="section-label">Company Map</p>
              <h2>Suppliers, customers, indices, holders, board, and competition</h2>
            </div>
            <div class="workbench-header-actions">
              <form id="companyMapForm" class="inline-form compact-inline-form">
                <input id="companyMapSymbol" type="text" placeholder="AAPL" />
                <span class="inline-form-separator">vs</span>
                <input id="companyMapCompareSymbol" type="text" placeholder="MSFT" />
                <button type="submit">Load Map</button>
                <button id="swapCompanyMapButton" type="button" class="secondary">Swap</button>
                <button id="clearCompanyMapCompareButton" type="button" class="secondary">Solo</button>
              </form>
              <button id="refreshCompanyMapButton" type="button" class="secondary">Refresh</button>
            </div>
          </div>
          <div id="companyMapSummary" class="watchlist-summary-grid"></div>
          <div id="companyMapWarnings" class="panel-status-strip"></div>
          <div id="companyMapCompareSummary" class="watchlist-summary-grid"></div>
          <div id="companyMapCompareShell" class="company-map-compare-shell"></div>
          <div class="company-map-shell">
            <article class="subpanel company-map-hero-panel">
              <div id="companyMapHeadline" class="intel-headline"></div>
              <div id="companyMapCoverage" class="list-stack"></div>
              <div id="companyMapGraph" class="chart-card intel-graph-card"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Index Membership</h3>
                <div class="muted">major public benchmarks</div>
              </div>
              <div id="companyMapIndices" class="list-stack"></div>
              <div class="subpanel-header">
                <h3>Geography</h3>
                <div class="muted">public mix and footprint</div>
              </div>
              <div id="companyMapGeo" class="chart-card small"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Supplier Network</h3>
                <div class="muted">who sells into the company</div>
              </div>
              <div id="companyMapSuppliers" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Customer / Output Network</h3>
                <div class="muted">who receives output or drives demand</div>
              </div>
              <div id="companyMapCustomers" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Board Interlocks</h3>
                <div class="muted">career and network ties</div>
              </div>
              <div id="companyMapBoardInterlocks" class="chart-card small"></div>
              <div id="companyMapBoardInterlockList" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Ownership Trend</h3>
                <div class="muted">public ownership signal timeline</div>
              </div>
              <div id="companyMapOwnershipTrend" class="chart-card small"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Acquisition Timeline</h3>
                <div class="muted">corporate events and filings</div>
              </div>
              <div id="companyMapAcquisitions" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Index Presence Timeline</h3>
                <div class="muted">current benchmark verification</div>
              </div>
              <div id="companyMapIndexTimeline" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Competitors</h3>
                <div class="muted">closest public comps</div>
              </div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead>
                    <tr>
                      <th>Symbol</th>
                      <th>Company</th>
                      <th>Last</th>
                      <th>% Change</th>
                    </tr>
                  </thead>
                  <tbody id="companyMapCompetitorBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Top Holders</h3>
                <div class="muted">largest public owners</div>
              </div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead>
                    <tr>
                      <th>Holder</th>
                      <th>% Held</th>
                      <th>Shares</th>
                    </tr>
                  </thead>
                  <tbody id="companyMapHoldersBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Board & Officers</h3>
                <div class="muted">public officer / board listing</div>
              </div>
              <div id="companyMapBoard" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header">
                <h3>Insider Ownership</h3>
                <div class="muted">reported insider positions</div>
              </div>
              <div id="companyMapInsiders" class="list-stack"></div>
            </article>
          </div>
        </section>

        <section id="section-quote-monitor" class="panel panel-wide panel-quote-monitor">
          <div class="panel-header">
            <div>
              <p class="section-label">Quote Monitor</p>
              <h2>Single-name tape, chart, holders, options, filings, news, and catalyst windows</h2>
            </div>
            <div class="workbench-header-actions">
              <form id="quoteMonitorForm" class="inline-form">
                <input id="quoteMonitorSymbol" type="text" placeholder="AAPL" />
                <select id="quoteMonitorRange">
                  <option value="1d">1 day</option>
                  <option value="1w">1 week</option>
                  <option value="1mo">1 month</option>
                  <option value="3mo">3 months</option>
                  <option value="6mo">6 months</option>
                  <option value="1y">1 year</option>
                </select>
                <button type="submit">Load</button>
              </form>
              <button id="refreshQuoteMonitorButton" type="button" class="secondary">Refresh</button>
            </div>
          </div>
          <div id="quoteMonitorSummary" class="watchlist-summary-grid"></div>
          <div id="quoteMonitorWarnings" class="panel-status-strip"></div>
          <div class="quote-monitor-shell">
            <article class="subpanel quote-monitor-hero">
              <div id="quoteMonitorHeadline" class="intel-headline"></div>
              <div id="quoteMonitorMetrics" class="metric-strip"></div>
              <div id="quoteMonitorChart" class="chart-card"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>News</h3><div class="muted">linked headlines</div></div>
              <div id="quoteMonitorNews" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Event Timeline</h3><div class="muted">ranked catalysts</div></div>
              <div id="quoteMonitorTimeline" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Recent Filings</h3><div class="muted">SEC disclosure tape</div></div>
              <div id="quoteMonitorFilings" class="list-stack"></div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Options</h3><div class="muted">front chain snapshot</div></div>
              <div id="quoteMonitorOptionsSummary" class="watchlist-summary-grid"></div>
              <div class="options-grid">
                <div class="table-wrap compact terminal-table-wrap">
                  <table class="terminal-table options-table">
                    <thead><tr><th>Call Strike</th><th>Last</th><th>Bid / Ask</th><th>Vol / OI</th></tr></thead>
                    <tbody id="quoteMonitorCallsBody"></tbody>
                  </table>
                </div>
                <div class="table-wrap compact terminal-table-wrap">
                  <table class="terminal-table options-table">
                    <thead><tr><th>Put Strike</th><th>Last</th><th>Bid / Ask</th><th>Vol / OI</th></tr></thead>
                    <tbody id="quoteMonitorPutsBody"></tbody>
                  </table>
                </div>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Peers</h3><div class="muted">nearby public comps</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Symbol</th><th>Company</th><th>Last</th><th>% Change</th></tr></thead>
                  <tbody id="quoteMonitorPeersBody"></tbody>
                </table>
              </div>
            </article>
            <article class="subpanel">
              <div class="subpanel-header"><h3>Top Holders</h3><div class="muted">public owners</div></div>
              <div class="table-wrap compact terminal-table-wrap">
                <table class="terminal-table intel-table">
                  <thead><tr><th>Holder</th><th>% Held</th><th>Shares</th></tr></thead>
                  <tbody id="quoteMonitorHoldersBody"></tbody>
                </table>
              </div>
            </article>
          </div>
        </section>

        <section id="section-workspaces" class="panel">
          <div class="panel-header">
            <div>
              <p class="section-label">Workspace Vault</p>
              <h2>Saved layouts</h2>
            </div>
          </div>
          <div id="workspaceGuard" class="guard-text"></div>
          <form id="workspaceForm" class="stacked-form">
            <input id="workspaceName" type="text" placeholder="Workspace name" />
            <label class="toggle">
              <input id="workspaceDefault" type="checkbox" />
              <span>Set as default</span>
            </label>
            <button type="submit">Save Snapshot</button>
            <button id="workspaceNewButton" type="button" class="secondary">New Snapshot</button>
          </form>
          <div id="workspaceSelection" class="muted"></div>
          <div id="workspacesList" class="list-stack"></div>
        </section>

        <section id="section-notes" class="panel">
          <div class="panel-header">
            <div>
              <p class="section-label">Desk Journal</p>
              <h2>Notes tied to your workspace</h2>
            </div>
          </div>
          <div id="notesGuard" class="guard-text"></div>
          <form id="noteForm" class="note-form">
            <input id="noteTitle" type="text" placeholder="Note title" />
            <textarea id="noteContent" placeholder="Write research notes, catalysts, or thesis updates."></textarea>
            <button type="submit">Save Note</button>
            <button id="noteNewButton" type="button" class="secondary">New Note</button>
          </form>
          <div id="notesList" class="list-stack"></div>
        </section>

        <section id="section-activity" class="panel">
          <div class="panel-header">
            <div>
              <p class="section-label">Activity</p>
              <h2>Server event stream</h2>
            </div>
          </div>
          <div id="activityGuard" class="guard-text"></div>
          <div id="activityList" class="list-stack"></div>
        </section>

        <section id="section-crypto" class="panel">
          <div class="panel-header">
            <div>
              <p class="section-label">Crypto Tape</p>
              <h2>Live public feed</h2>
            </div>
            <form id="cryptoForm" class="inline-form">
              <input id="cryptoProductsInput" type="text" />
              <button type="submit">Reconnect</button>
            </form>
          </div>
          <div id="cryptoBoard" class="crypto-board"></div>
          <div class="panel-header compact-header">
            <h3>Order Book</h3>
            <select id="orderBookProduct"></select>
          </div>
          <div class="orderbook-grid">
            <div>
              <h4>Bids</h4>
              <div class="table-wrap compact">
                <table>
                  <thead>
                    <tr>
                      <th>Price</th>
                      <th>Size</th>
                      <th>Orders</th>
                    </tr>
                  </thead>
                  <tbody id="bidsBody"></tbody>
                </table>
              </div>
            </div>
            <div>
              <h4>Asks</h4>
              <div class="table-wrap compact">
                <table>
                  <thead>
                    <tr>
                      <th>Price</th>
                      <th>Size</th>
                      <th>Orders</th>
                    </tr>
                  </thead>
                  <tbody id="asksBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </section>

        <section id="section-macro" class="panel">
          <div class="panel-header">
            <div>
              <p class="section-label">Rates & Macro</p>
              <h2>Policy snapshot</h2>
            </div>
          </div>
          <div class="macro-grid">
            <div class="subpanel">
              <h3>Treasury Yield Curve</h3>
              <div id="yieldCurveChart" class="chart-card small"></div>
            </div>
            <div class="subpanel">
              <h3>Macro Snapshot</h3>
              <div id="macroFacts" class="facts-grid"></div>
            </div>
          </div>
        </section>

        <section id="section-calendar" class="panel panel-calendar">
          <div class="panel-header">
            <div>
              <p class="section-label">Desk Calendar</p>
              <h2>Earnings, Fed, and macro dates</h2>
            </div>
            <form id="calendarForm" class="inline-form compact-inline-form">
              <select id="calendarFilter">
                <option value="all">All events</option>
                <option value="earnings">Earnings</option>
                <option value="macro">Macro</option>
                <option value="policy">Policy</option>
              </select>
              <select id="calendarWindow">
                <option value="14">14d</option>
                <option value="30" selected>30d</option>
                <option value="90">90d</option>
              </select>
              <select id="calendarPageSize">
                <option value="10" selected>10 / page</option>
                <option value="15">15 / page</option>
                <option value="25">25 / page</option>
              </select>
              <button type="submit">Refresh</button>
            </form>
          </div>
          <div id="calendarSummary" class="watchlist-summary-grid"></div>
          <div id="calendarWarnings" class="panel-status-strip"></div>
          <div class="panel-toolbar compact-toolbar">
            <div id="calendarPageMeta" class="muted">Calendar pages</div>
            <div id="calendarPager" class="pagination-strip"></div>
          </div>
          <div id="calendarList" class="calendar-list"></div>
        </section>

        <section id="section-news" class="panel panel-news">
          <div class="panel-header">
            <div>
              <p class="section-label">Newswire</p>
              <h2>Live public headlines, linked sources, and symbol search</h2>
            </div>
            <form id="newsSearchForm" class="inline-form news-search-form">
              <input id="newsFocusInput" type="text" placeholder="Search symbol or company" />
              <button type="submit">Search</button>
              <button id="clearNewsFocusButton" type="button" class="secondary">Clear</button>
              <button id="refreshNewsButton" type="button" class="secondary">Refresh</button>
            </form>
          </div>
          <div id="newsSummary" class="watchlist-summary-grid"></div>
          <div id="newsStatus" class="panel-status-strip compact-status"></div>
          <div class="panel-toolbar compact-toolbar">
            <div id="newsPageMeta" class="muted">General market news</div>
            <div id="newsPager" class="pagination-strip"></div>
          </div>
          <div id="newsList" class="news-list"></div>
        </section>

        <section id="section-portfolio" class="panel">
          <div class="panel-header">
            <div>
              <p class="section-label">Portfolio</p>
              <h2>Server-syncable positions</h2>
            </div>
          </div>
          <form id="portfolioForm" class="stacked-form">
            <input id="portfolioSymbol" type="text" placeholder="Symbol" />
            <input id="portfolioQuantity" type="number" step="any" placeholder="Quantity" />
            <input id="portfolioCost" type="number" step="any" placeholder="Cost basis" />
            <button type="submit">Add Position</button>
          </form>
          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>Symbol</th>
                  <th>Qty</th>
                  <th>Cost</th>
                  <th>Last</th>
                  <th>Market Value</th>
                  <th>P/L</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="portfolioBody"></tbody>
            </table>
          </div>
        </section>

        <section id="section-alerts" class="panel">
          <div class="panel-header">
            <div>
              <p class="section-label">Alerts</p>
              <h2>Server-side trigger monitoring</h2>
            </div>
          </div>
          <div id="alertsGuard" class="guard-text"></div>
          <form id="alertForm" class="stacked-form">
            <input id="alertSymbol" type="text" placeholder="Symbol or crypto product" />
            <select id="alertDirection">
              <option value="above">Above</option>
              <option value="below">Below</option>
            </select>
            <input id="alertPrice" type="number" step="any" placeholder="Trigger price" />
            <button type="submit">Create Alert</button>
          </form>
          <div id="alertsList" class="list-stack"></div>
        </section>

        <section id="section-intel-ops" class="panel">
          <div class="panel-header">
            <div>
              <p class="section-label">Intel Ops</p>
              <h2>Webhook, email, and digest automation</h2>
            </div>
          </div>
          <div id="opsGuard" class="guard-text"></div>
          <article class="subpanel">
            <h3>Destinations</h3>
            <form id="destinationForm" class="note-form">
              <input id="destinationLabel" type="text" placeholder="Destination label" />
              <div class="two-column">
                <select id="destinationKind">
                  <option value="webhook">Webhook</option>
                  <option value="email">Email</option>
                </select>
                <input id="destinationTarget" type="text" placeholder="https://example.com/webhook or analyst@example.com" />
              </div>
              <div class="action-row checkbox-row">
                <label class="toggle"><input id="destinationPurposeAlert" type="checkbox" checked /><span>Use for alerts</span></label>
                <label class="toggle"><input id="destinationPurposeDigest" type="checkbox" checked /><span>Use for digests</span></label>
              </div>
              <button type="submit">Save Destination</button>
            </form>
            <div id="destinationsList" class="list-stack"></div>
          </article>
          <article class="subpanel">
            <div class="panel-header compact-header">
              <h3>Relationship Digests</h3>
              <button id="digestNewButton" type="button" class="secondary">New Digest</button>
            </div>
            <form id="digestForm" class="note-form">
              <input id="digestName" type="text" placeholder="Digest name" />
              <textarea id="digestSymbols" placeholder="AAPL,NVDA,TSM"></textarea>
              <div class="two-column">
                <select id="digestFrequency">
                  <option value="hourly">Hourly</option>
                  <option value="daily" selected>Daily</option>
                  <option value="weekly">Weekly</option>
                </select>
                <label class="toggle"><input id="digestActive" type="checkbox" checked /><span>Digest active</span></label>
              </div>
              <select id="digestDestinations" multiple size="4"></select>
              <button type="submit">Save Digest</button>
            </form>
            <div id="digestsList" class="list-stack"></div>
          </article>
        </section>

        <section id="section-screening" class="panel panel-wide">
          <div class="panel-header">
            <div>
              <p class="section-label">Screening & Compare</p>
              <h2>Custom universes and peer tables</h2>
            </div>
          </div>
          <form id="screenForm" class="screen-form">
            <textarea id="screenSymbols"></textarea>
            <input id="screenMaxPe" type="number" step="any" placeholder="Max P/E" />
            <input id="screenMinCap" type="number" step="any" placeholder="Min Market Cap" />
            <input id="screenMinVolume" type="number" step="any" placeholder="Min Volume" />
            <input id="screenMinChange" type="number" step="any" placeholder="Min % Change" />
            <button type="submit">Run Screen</button>
          </form>
          <div class="table-wrap compact">
            <table>
              <thead>
                <tr>
                  <th>Symbol</th>
                  <th>Last</th>
                  <th>% Change</th>
                  <th>P/E</th>
                  <th>Volume</th>
                  <th>Market Cap</th>
                </tr>
              </thead>
              <tbody id="screenBody"></tbody>
            </table>
          </div>
          <div class="panel-header compare-header">
            <h3>Compare Symbols</h3>
            <form id="compareForm" class="inline-form">
              <input id="compareSymbolsInput" type="text" />
              <button type="submit">Compare</button>
            </form>
          </div>
          <div class="table-wrap compact">
            <table>
              <thead>
                <tr>
                  <th>Symbol</th>
                  <th>Last</th>
                  <th>% Change</th>
                  <th>P/E</th>
                  <th>Fwd P/E</th>
                  <th>Sector</th>
                  <th>Rating</th>
                </tr>
              </thead>
              <tbody id="compareBody"></tbody>
            </table>
          </div>
        </section>

        <section id="section-events" class="panel panel-wide">
          <div class="panel-header">
            <div>
              <p class="section-label">Watchlist Events</p>
              <h2>Latest SEC filings across tracked names</h2>
            </div>
          </div>
          <div id="watchlistEvents" class="list-stack"></div>
        </section>

        <section id="section-limitations" class="panel panel-wide limitations">
          <p class="section-label">Reality Check</p>
          <h2>What this app now covers</h2>
          <div class="limits-grid">
            <div>
              <h3>Added in this version</h3>
              <p>Accounts, sessions, server alerts, saved workspaces, notes, activity streaming, background jobs, cache warming, Docker, and a curated relationship console for supply-chain and corporate maps.</p>
            </div>
            <div>
              <h3>Still outside scope</h3>
              <p>Licensed low-latency market data, premium research, broker workflows, and Bloomberg’s proprietary graph depth across every listed company.</p>
            </div>
          </div>
        </section>
      </main>
    </div>

    <div id="commandPalette" class="command-palette" hidden>
      <div class="command-palette-backdrop" data-close-palette="true"></div>
      <div class="command-palette-dialog" role="dialog" aria-modal="true" aria-label="Command palette">
        <div class="command-palette-header">
          <span>Command Palette</span>
          <span class="muted">Symbols, panel jumps, refresh actions</span>
        </div>
        <input id="commandPaletteInput" type="text" placeholder="Type a symbol, panel, or action..." autocomplete="off" />
        <div id="commandPaletteResults" class="command-palette-results"></div>
      </div>
    </div>

    <div id="earningsOverlay" class="earnings-overlay" hidden>
      <div class="earnings-overlay-backdrop" data-close-earnings="true"></div>
      <aside id="earningsDrawer" class="earnings-drawer" role="dialog" aria-modal="true" aria-label="Earnings intelligence" hidden>
        <div class="panel-header compact-header earnings-drawer-header">
          <div>
            <p class="section-label">Earnings Intel</p>
            <h3 id="earningsDrawerTitle">Earnings detail</h3>
          </div>
          <button id="closeEarningsDrawerButton" type="button" class="secondary">Close</button>
        </div>
        <div id="earningsWarning" class="panel-status-strip"></div>
        <div id="earningsSummary" class="watchlist-summary-grid"></div>
        <div class="earnings-drawer-grid">
          <article class="subpanel">
            <h3>Estimate Trend</h3>
            <div id="earningsTrendList" class="list-stack"></div>
          </article>
          <article class="subpanel">
            <h3>Surprise History</h3>
            <div class="table-wrap compact terminal-table-wrap">
              <table class="terminal-table intel-table">
                <thead>
                  <tr>
                    <th>Quarter</th>
                    <th>Est.</th>
                    <th>Actual</th>
                    <th>Surprise</th>
                  </tr>
                </thead>
                <tbody id="earningsHistoryBody"></tbody>
              </table>
            </div>
          </article>
          <article class="subpanel">
            <h3>Peer Windows</h3>
            <div id="peerEarningsList" class="list-stack"></div>
          </article>
        </div>
      </aside>
    </div>

    <div id="statusToast" class="status-toast" hidden></div>
    <script defer src="/_vercel/insights/script.js"></script>
    <script defer src="/_vercel/speed-insights/script.js"></script>
    <script type="module" src="/app.js"></script>
  </body>
</html>
